ВОПРОСЫ МЕНЕДЖЕРА:
1. Насколько уверенно ребенок дружит с мышкой и клавиатурой?
2. Был ли уже опыт в программировании или робототехнике?
3. Сколько лет ребенку?
4. Как зовут ребенка?

ОТВЕТ РОДИТЕЛЯ:
{answer}

УЖЕ ИЗВЛЕЧЕННЫЕ ДАННЫЕ (не спрашивай об этом снова):
{context}

ЗАДАЧА:
1. Извлеки из ответа ВСЮ доступную информацию по всем 4 вопросам
2. Объедини с уже извлеченными данными - если данные уже есть в контексте, используй их
3. Определи, какие данные ОТСУТСТВУЮТ (не задавай вопросы о том, что уже известно)
4. Если каких-то данных не хватает - сформулируй ОДИН уточняющий вопрос в стиле живого менеджера (кратко, дружелюбно, 1 предложение) только для САМОГО ВАЖНОГО недостающего поля

ПРАВИЛА ИЗВЛЕЧЕНИЯ:
- child_age: извлекай ТОЛЬКО ВОЗРАСТ (число от 3 до 18 лет). НЕ путай с оценками! Если в ответе есть фразы типа "лет", "года", "год", "возраст" или "моему ребенку X" - это возраст. Если просто число без контекста возраста - это НЕ возраст, это может быть оценка навыка!
- child_name: извлекай имя (например: "Олег", "меня зовут Олег" = "Олег", "зовут Олег" = "Олег")
- mouse_keyboard_skill: извлекай уровень (например: "уверенно", "умеет", "дружит", "на 4" = "хорошо", "на 5" = "отлично", "держал в руках" = "начинает", "не умеет" = "не умеет", "средне" = "средне")
- programming_experience: извлекай опыт (например: "знает питон" = "есть опыт: знает Python", "есть опыт", "нет опыта", "занимался" = "есть опыт: [описание]")

ВОЗВРАТИ JSON:
{{
  "extracted": {{
    "mouse_keyboard_skill": "string или null (используй значение из контекста, если есть)",
    "programming_experience": "string или null (используй значение из контекста, если есть)",
    "child_age": число или null (используй значение из контекста, если есть)",
    "child_name": "string или null (используй значение из контекста, если есть)"
  }},
  "needs_clarification": true/false,
  "clarification_question": "текст ОДНОГО вопроса или null (только для самого важного недостающего поля)"
}}

КРИТИЧЕСКИ ВАЖНО:
- ОБЯЗАТЕЛЬНО используй данные из контекста, если они уже есть - НЕ перезаписывай их!
- Извлекай ВСЕ доступные данные из текущего ответа
- ВОЗРАСТ - это только числа с контекстом возраста ("лет", "года", "год", "возраст", "моему ребенку X"). Числа без контекста возраста (например "на 4", "на 5") - это ОЦЕНКИ навыка, НЕ возраст!
- Задавай ТОЛЬКО ОДИН вопрос за раз, для самого важного недостающего поля
- НЕ задавай вопросы о данных, которые уже есть в контексте
- Если имя уже есть в контексте - НЕ спрашивай его снова!
- Если возраст уже есть в контексте - НЕ спрашивай его снова!

